import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseModalities: [
    ],
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location : Las Vegas, for three days for Couple with a Chap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo cordinates, ticket Pricing, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap/Affordable\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80/night (depending on the season and deals)\",\n      \"hotelImageUrl\": \"https://www.kayak.com/rimg/himg/34/e0/6b/ice-129452-115095202-848569.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0955,\n        \"longitude\": -115.1740\n      },\n      \"rating\": 4.0,\n      \"description\": \"Medieval-themed hotel with affordable rooms, multiple pools, and a variety of dining options. Good for families and budget-conscious travelers. Offers free shows and a central location on the Strip.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Restaurants\", \"Free Shows\", \"Fitness Center\"]\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$45-$90/night (depending on the season and deals)\",\n      \"hotelImageUrl\": \"https://www.kayak.com/rimg/himg/d2/1e/09/ice-127976-115095263-172453.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0955,\n        \"longitude\": -115.1755\n      },\n      \"rating\": 3.8,\n      \"description\": \"Pyramid-shaped hotel with unique rooms and a variety of attractions. Relatively affordable and conveniently located on the south end of the Strip.  Home to various shows and exhibits.\",\n       \"amenities\": [\"Pool\", \"Casino\", \"Restaurants\", \"Shows\", \"Exhibits\"]\n    },\n    {\n      \"hotelName\": \"Flamingo Las Vegas\",\n      \"hotelAddress\": \"3555 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50-$100/night (depending on the season and deals)\",\n      \"hotelImageUrl\": \"https://www.kayak.com/rimg/himg/7f/d3/f4/ice-22970-5671838-57312.jpg?width=720&height=576&crop=true\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1166,\n        \"longitude\": -115.1743\n      },\n      \"rating\": 4.2,\n      \"description\": \"Iconic hotel with a tropical theme, known for its Flamingo Habitat. Centrally located on the Strip and offers affordable rates, especially during off-peak season. Donny Osmond often performs here.\",\n      \"amenities\": [\"Pool\", \"Casino\", \"Restaurants\", \"Flamingo Habitat\", \"Shows\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"morning\": {\n        \"time\": \"9:00 AM - 12:00 PM\",\n        \"placeName\": \"Welcome to Las Vegas Sign\",\n        \"placeDetails\": \"Take the classic photo at the iconic 'Welcome to Fabulous Las Vegas' sign. Arrive early to avoid crowds. Parking is available.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Welcome_to_Las_Vegas_sign.svg/1200px-Welcome_to_Las_Vegas_sign.svg.png\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0828,\n          \"longitude\": -115.1732\n        },\n        \"ticketPricing\": \"Free\",\n        \"travelTime\": \"Depends on hotel location.  Allow 15-30 minutes from most Strip hotels.\"\n      },\n      \"afternoon\": {\n        \"time\": \"12:00 PM - 5:00 PM\",\n        \"placeName\": \"Explore the Hotel Attractions (Luxor, Excalibur, Mandalay Bay)\",\n        \"placeDetails\": \"Walk through the themed hotels on the south end of the Strip. Visit the Luxor's replica of King Tut's Tomb (small fee applies, but consider skipping if on a tight budget).  Enjoy the free shows and displays at Excalibur. Explore Mandalay Bay's Shark Reef Aquarium (can be expensive, so decide if it fits your budget).\",\n        \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2018/05/luxor-exterior.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0955,\n          \"longitude\": -115.1740\n        },\n        \"ticketPricing\": \"Free to walk around.  Attractions within the hotels have varying prices. Check Groupon for discounts.\",\n        \"travelTime\": \"Walking distance between hotels.  Use the free monorail between Excalibur, Luxor, and Mandalay Bay.\"\n      },\n      \"evening\": {\n        \"time\": \"5:00 PM - 10:00 PM\",\n        \"placeName\": \"Fountains of Bellagio & Conservatory & Botanical Garden\",\n        \"placeDetails\": \"Witness the mesmerizing Fountains of Bellagio show (free). Explore the beautiful Conservatory & Botanical Garden inside the Bellagio (free). Find a cheap eats place for dinner (food court or pizza).\",\n        \"placeImageUrl\": \"https://www.wheretraveler.com/sites/default/files/images/FountainsOfBellagio_0.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1127,\n          \"longitude\": -115.1742\n        },\n        \"ticketPricing\": \"Free\",\n        \"travelTime\": \"Take the Deuce bus or walk (long walk, consider bus if tired) from the south end of the Strip.  Approx. 30-45 minutes by bus.\"\n      },\n      \"bestTimeToVisit\": \"Morning for the Welcome Sign, Afternoon for Hotel Exploration, Evening for Fountains of Bellagio\"\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"morning\": {\n        \"time\": \"10:00 AM - 1:00 PM\",\n        \"placeName\": \"Downtown Las Vegas (Fremont Street)\",\n        \"placeDetails\": \"Take the Deuce bus or a ride-sharing service to Downtown Las Vegas. Explore the older casinos and the vibrant atmosphere.\",\n        \"placeImageUrl\": \"https://www.casino.org/news/wp-content/uploads/2023/01/GettyImages-1244426719-scaled.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1701,\n          \"longitude\": -115.1400\n        },\n        \"ticketPricing\": \"Free to walk around.\",\n        \"travelTime\": \"Approx. 30-45 minutes by bus from the Strip.\"\n      },\n      \"afternoon\": {\n        \"time\": \"1:00 PM - 5:00 PM\",\n        \"placeName\": \"Fremont Street Experience\",\n        \"placeDetails\": \"Experience the Viva Vision light show on the Fremont Street Experience canopy. Explore the various street performers and vendors.\",\n        \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/05/FSE_website_homepage_header-1440x600.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1704,\n          \"longitude\": -115.1422\n        },\n        \"ticketPricing\": \"Free\",\n        \"travelTime\": \"Walking distance within Fremont Street.\"\n      },\n      \"evening\": {\n        \"time\": \"5:00 PM - 10:00 PM\",\n        \"placeName\": \"Dinner in Downtown & Viva Vision Show\",\n        \"placeDetails\": \"Find affordable dinner options in Downtown Las Vegas (consider a buffet or a casual restaurant). Enjoy the Viva Vision light show again (shows run frequently).\",\n        \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/08/fse-homepage-feature-820x400-viva-vision.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1704,\n          \"longitude\": -115.1422\n        },\n        \"ticketPricing\": \"Free\",\n        \"travelTime\": \"Return to the Strip by bus or ride-sharing service.\"\n      },\n      \"bestTimeToVisit\": \"Afternoon/Evening for Fremont Street Experience\"\n    },\n    \"day3\": {\n      \"theme\": \"Mid-Strip Exploration & High Roller Observation Wheel (Optional)\",\n      \"morning\": {\n        \"time\": \"9:00 AM - 12:00 PM\",\n        \"placeName\": \"LINQ Promenade & High Roller (Optional)\",\n        \"placeDetails\": \"Explore the LINQ Promenade, an outdoor shopping and dining area. Consider riding the High Roller Observation Wheel for panoramic views (expensive, only if budget allows, check for discounts).\",\n        \"placeImageUrl\": \"https://www.caesars.com/content/dam/linq/ThingsToDo/linq-promenade/lpromenade-attractions-highroller-carousel-0417-1200x630.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1164,\n          \"longitude\": -115.1696\n        },\n        \"ticketPricing\": \"Free to walk around the LINQ Promenade. High Roller tickets vary, check for online deals.\",\n        \"travelTime\": \"Take the Deuce bus or walk from your hotel.\"\n      },\n      \"afternoon\": {\n        \"time\": \"12:00 PM - 5:00 PM\",\n        \"placeName\": \"Venetian & Palazzo Canals & Streetmosphere\",\n        \"placeDetails\": \"Visit the Venetian and Palazzo hotels. Watch the gondola rides (free to watch). Enjoy the 'Streetmosphere' performers at the Venetian (singers, actors).\",\n        \"placeImageUrl\": \"https://handluggageonly.co.uk/wp-content/uploads/2016/02/Hand-Luggage-Only-Venetian-Hotel-Las-Vegas-11.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1216,\n          \"longitude\": -115.1753\n        },\n        \"ticketPricing\": \"Free to walk around and watch the shows. Gondola rides are an additional fee.\",\n        \"travelTime\": \"Walking distance from the LINQ Promenade (or take the bus).\"\n      },\n      \"evening\": {\n        \"time\": \"5:00 PM - 8:00 PM\",\n        \"placeName\": \"Mirage Volcano Show\",\n        \"placeDetails\": \"Watch the free Volcano show at the Mirage hotel. It's a spectacular display of fire and music.\",\n        \"placeImageUrl\": \"https://media.cntraveler.com/photos/5a78ce1a0e1f2d6b8343e60f/master/w_2240%2Cc_limit/Mirage-volcano.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1212,\n          \"longitude\": -115.1752\n        },\n        \"ticketPricing\": \"Free\",\n        \"travelTime\": \"Walking distance from the Venetian/Palazzo.\"\n      },\n      \"bestTimeToVisit\": \"Afternoon for Venetian/Palazzo, Evening for Mirage Volcano\"\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions like the Fountains of Bellagio, the Conservatory & Botanical Garden, and the Fremont Street Experience.\",\n    \"Use the Deuce bus for transportation on the Strip and Downtown. A 24-hour pass is a good value.\",\n    \"Look for happy hour deals and affordable restaurants off the main Strip.\",\n    \"Bring your own water and snacks to avoid overpaying at tourist traps.\",\n    \"Check Groupon and other deal sites for discounts on shows and attractions.\",\n    \"Consider visiting during the off-season (summer is very hot and crowded, winter can be chilly) for lower hotel rates.\",\n    \"Take advantage of free parking at many hotels (but double-check before you go).\",\n    \"Avoid gambling too much - set a budget and stick to it.\"\n  ]\n}\n```\n\n**Key Considerations & Explanation:**\n\n*   **JSON Format:**  The code is structured as a JSON object. This format is easily parsable by computers and can be used in web applications, mobile apps, or other systems.\n*   **Hotel Options:** I've provided three hotel options that are generally considered budget-friendly and well-located. Prices can fluctuate greatly, so check online booking sites for the most up-to-date rates. The included amenities are some of the most commonly requested.\n*   **Itinerary:**\n    *   **Day 1:** Focuses on the south end of the Strip, easily walkable, and includes many free attractions.\n    *   **Day 2:** Explores Downtown Las Vegas and the Fremont Street Experience, offering a different vibe than the Strip.\n    *   **Day 3:** Covers the mid-Strip area, with optional activities like the High Roller (if your budget allows).\n*   **Free Activities:** Emphasizes free attractions like the Fountains of Bellagio, the Conservatory, the Fremont Street Experience light shows, and the Mirage Volcano.\n*   **Transportation:** The Deuce bus is recommended for budget-friendly transportation along the Strip and to Downtown. Ride-sharing services are also an option, but can be more expensive.\n*   **Food:**  The itinerary suggests finding affordable food options like food courts, pizza places, or happy hour deals.\n*   **Optional Activities:**  The High Roller is included as an optional activity, as it can be expensive.\n*   **Budget Tips:** Provides practical tips for saving money on your trip.\n*   **Geo Coordinates:** Latitude and Longitude are included for each location. You can use these in mapping apps (like Google Maps) for easy navigation.\n*   **Image URLs:**  I've included URLs for images to give you a visual idea of each location.\n*   **`bestTimeToVisit`:** Added to each day to suggest the optimal time to experience the planned activities.\n*   **Real-time Pricing:** Remember that prices for hotels, shows, and attractions change frequently. Always check current prices before booking.\n*   **Flexibility:** This is just a suggested itinerary. Feel free to customize it based on your interests and budget.\n\n**How to use this JSON:**\n\n1.  **Copy the JSON code:** Select all the text within the code block (including the curly braces `{}` at the beginning and end) and copy it.\n2.  **Paste into a JSON Viewer/Editor:** There are many free online JSON viewers and editors. Paste the copied text into one of these tools.  This will format the JSON to make it easier to read and verify that it's valid.\n3.  **Use in Your Application:** If you're a developer, you can parse this JSON data in your application (using JavaScript, Python, Java, etc.) and use the information to display the itinerary, hotel options, and other details to the user.\n\nThis comprehensive JSON output should provide a solid foundation for planning your budget-friendly Las Vegas trip. Remember to always double-check prices and availability before booking anything! Enjoy your trip!\n" },
            ],
        },
    ],
});